doctype html
html
    head
        style.
            * {
                box-sizing: border-box;
            }

            input[type=text], textarea {
                width: 100%;
                /*padding: 12px;*/
                border: 1px solid #ccc;
                border-radius: 4px;
                resize: vertical;
                /*font-size: 16pt;*/

            }

            label {
                padding: 12px 12px 12px 0;
                display: inline-block;
            }

            #go {
                background-color: #4CAF50;
                color: white;
                padding: 12px 20px;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                float: left;
                margin: 0;
            }

            input[type=submit]:hover {
                background-color: #45a049;
            }

            select {
                padding: 3px;
                margin: auto;
                -webkit-border-radius: 4px;
                -moz-border-radius: 4px;
                border-radius: 4px;
                background: #ffffff;
                color: #000000;
                border: none;
                outline: none;
                display: inline-block;
                -webkit-appearance: none;
                -moz-appearance: none;
                cursor: pointer;
                /*font-size: 16pt;*/
                text-align: center;
            }

            .container {
                border-radius: 5px;
                background-color: #f2f2f2;
                padding: 20px;
                width: 90%;
                margin: auto;
            }

            .col-25 {
                float: left;
                width: 11%;
                margin-top: 6px;
                padding-left: 12px;
                text-align: center;
            }

            .col-75 {
                float: left;
                width: 22%;
                margin-top: 6px;
            }

            /* Clear floats after the columns */
            .row:after {
                content: "";
                display: table;
                clear: both;
            }

            .info {
                float: right;
                width: 30%;
            }

            .categories {
                overflow: hidden;
                background-color: navy;
                font-family: Arial;
            }

            .categories div {
                float: left;
                font-size: 16px;
                color: white;
                text-align: center;
                padding: 14px 16px;
                text-decoration: none;
            }

            /* Responsive layout - when the screen is less than 600px wide, make the two columns stack on top of each other instead of next to each other */
            @media screen and (max-width: 2000px) {
                .col-25, .col-75 {
                    width: 45%;
                    margin-top: 0;
                    /*font-size: 24pt;*/
                    color: black;
                    text-align: left;

                }

                .button {
                    background-color: red;
                    color: white;
                    padding: 12px 20px;
                    border: none;
                    border-radius: 4px;
                    cursor: pointer;
                    float: right;
                    margin-top: 10px;
                }

                .row {
                    border-bottom: solid 2px;
                }

                .info {
                    float: right;
                    width: 30%;
                }

                select {
                    width: 100%;
                    margin-top: 10px;
                }

                #go {
                    margin-top: 10px;
                }

                label {
                    /*font-size: xx-large;*/

                }

                .custom-select-wrapper {
                    display: inline-block;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    margin-top: 25px;
                }

                textarea {
                    /*font-size: 16pt;*/
                }

            }
        link(rel='import' href='@vaadin/vaadin-date-picker/vaadin-date-picker.js')
    body
        .container
            .info
                button.button(value='Cancel' onclick='goBack();') Cancel
            form(action='/form', method='post')
                .info
                    #go(onclick='go();') Submit
                    br
                h2 Computer
                h3 #{employee.FirstName} #{employee.LastName}
                div(class='categories')
                    #mainInfoButton(onclick='showMain();') Main Info
                    #otherInfoButton(onclick='showOther();') Other Info
                    #hardwareInfoButton(onclick='showHardware();') Hardware Info

                br
                #mainInfo
                    .row
                        .col-25
                            label(for='icn') ICN:
                        .col-75
                            input#icn(style='background-color: #f2f2f2; border: none; margin-top: 10px;', type='text', name='icn', placeholder='ICN', readonly="readonly", onclick='alert("this is not editable");' value='#{computer.ICN}')
                    .row
                        .col-25
                            label(for='employee') Employee:
                        .col-75
                            select#employee.selectpicker(name='employeeId', placeholder='Employee')
                                each employee in employees
                                    if(employee.employeeId === computer.EmployeeID)
                                        option(value=employee.employeeId name='#{employee.firstName} #{employee.lastName}' selected) #{employee.firstName} #{employee.lastName}
                                    else
                                        option(value=employee.employeeId name='#{employee.firstName} #{employee.lastName}')  #{employee.firstName} #{employee.lastName}
                    .row
                        .col-25
                            label(for='make') Make:
                        .col-75
                            select#make.custom-select.sources(name='make', placeholder='Make' onchange='refreshModelOptions()')
                                each makeOption in makeOptions
                                    if(makeOption.Make === computer.Make)
                                        option(value=makeOption.Make selected) #{makeOption.Make}
                                    else
                                        option(value=makeOption.Make) #{makeOption.Make}
                    .row
                        .col-25
                            label(for='model') Model:
                        .col-75
                            select#model.custom-select.sources(name='model', placeholder='Model')
                                each modelOption in modelOptions
                                    if(modelOption.Model === computer.Model)
                                        option(value=modelOption.Model selected) #{modelOption.Model}
                                    else
                                        option(value=modelOption.Model) #{modelOption.Model}
                    .row
                        .col-25
                            label(for='type') Type:
                        .col-75
                            select#type.custom-select.sources(name='type', placeholder='Computer Type')
                                each typeOption in typeOptions
                                    if(typeOption.Type === computer.Type)
                                        option(value=typeOption.Type selected) #{typeOption.Type}
                                    else
                                        option(value=typeOption.Type) #{typeOption.Type}
                    .row
                        .col-25
                            label(for='notes') Notes:
                        .col-75
                            textarea#notes(name='notes', placeholder='Write something..', style='height:200px')
                                | #{computer.Notes}
                    .row
                        .col-25
                            label(for='history') History:
                        .col-75
                            textarea#history(name='history' style='height:200px' readonly='readonly')
                #otherInfo(style='display: none;')
                    .row
                        .col-25
                            label(for='serialNumber') Serial Number:
                        .col-75
                            input#serialNumber(type='text', name='serialNumber', placeholder='Serial Number' value='#{computer.SerialNumber}')
                    .row
                        .col-25
                            label(for='serviceTag') Service Tag:
                        .col-75
                            input#serviceTag(type='text', name='serviceTag', placeholder='Service Tag' value='#{computer.ServiceTag}')
                    .row
                        .col-25
                            label(for='expressServiceCode') Express Service Code:
                        .col-75
                            input#expressServiceCode(type='text', name='expressServiceCode', placeholder='Express Service Code' value='#{computer.ExpressServiceCode}')
                    .row
                        .col-25
                            label Date Acquired:
                        .col-75
                            vaadin-date-picker#dateAcquired(name='dateAcquired', placeholder='Date Acquired' value='#{computer.DateAcquired}')
                    .row
                        .col-25
                            label(for='warranty') Warranty:
                        .col-75
                            input#warranty(type='text', name='warranty', placeholder='Warranty' value='#{computer.Warranty}')
                    .row
                        .col-25
                            label(for='homeCheckout') Home Checkout:
                        .col-75
                            input#homeCheckout(type='text', name='homeCheckout', placeholder='Home Checkout' value='#{computer.HomeCheckout}')
                #hardwareInfo(style='display: none;')
                    .row
                        .col-25
                            label(for='processorType') Processor Type:
                        .col-75
                            input#processorType(type='text', name='processorType', placeholder='Processor Type' value='#{hardware.ProcessorType}')
                    .row
                        .col-25
                            label(for='processorSpeed') Processor Speed:
                        .col-75
                            input#processorSpeed(type='text', name='processorSpeed', placeholder='Processor Speed' value='#{hardware.ProcessorSpeed}')
                    .row
                        .col-25
                            label(for='memory') Memory:
                        .col-75
                            input#memory(type='text', name='memory', placeholder='Memory' value='#{hardware.Memory}')
                    .row
                        .col-25
                            label(for='hardDrive') Hard Drive:
                        .col-75
                            input#hardDrive(type='text', name='hardDrive', placeholder='Hard Drive' value='#{hardware.HardDrive}')
                    .row
                        .col-25
                            label(for='graphicsCard') Graphics Card:
                        .col-75
                            input#graphicsCard(type='text', name='graphicsCard', placeholder='Graphics Card' value='#{hardware.VCName}')
    script.
        let icn = "#{computer.ICN}";
        let employee = "#{employee.FirstName} #{employee.LastName}";
        let make = "#{computer.Make}";
        let model = "#{computer.Model}";
        let type = "#{computer.Type}";
        let notes = "#{computer.Notes}";
        let date = new Date();
        function goBack() {
            $("#cardInfo").css('display', 'block');
            $("#computerInfo").css('display', 'none');
        }
        function showMain() {
            $("#mainInfo").css('display', 'block');
            $("#otherInfo").css('display', 'none');
            $("#hardwareInfo").css('display', 'none');
        }
        function showOther() {
            $("#mainInfo").css('display', 'none');
            $("#otherInfo").css('display', 'block');
            $("#hardwareInfo").css('display', 'none');
        }
        function showHardware() {
            $("#mainInfo").css('display', 'none');
            $("#otherInfo").css('display', 'none');
            $("#hardwareInfo").css('display', 'block');
        }
        function refreshModelOptions() {
            $.ajax({
                type: "GET",
                url: "getModelOptions?make=" + $("#make").val(),
                data: {format: 'html'}
            }).done(function (data) {
                $("#model").html(data);
            });
        }
        function changeEmployee(){
            let history = $("#history").val();
            $("#history").val(history + date.toDateString() + ' Reassigned from ' + employee + ' to ' + $("#employee option:selected").attr('name') + ' by McKay Court \n');
        }
        function changeMake(){
            let history = $("#history").val();
            $("#history").val(history + date.toDateString() + ' Changed from ')
        }
        function go(){
            if(employee !== $("#employee option:selected").attr('name')){
                changeEmployee();
            }
        }